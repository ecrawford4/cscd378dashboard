---
---

<script>
const APIKEY = import.meta.env.PUBLIC_WEATHER_API;
// Get API key from server side .ENV file

// API endpoint URL
const queryEndpoint = 'https://api.openweathermap.org/data/2.5/weather';
// City
const queryCity = 'Spokane';
// Units for Farenheit
const queryUnits = 'imperial';

// URL query string
const url = `${queryEndpoint}?q=${queryCity}&appid=${APIKEY}&units=${queryUnits}`;

// Get DOM Elements
const city = document.querySelector('.city');
const temp = document.querySelector('.temp');
const humidity = document.querySelector('.humidity');
// const wind = document.querySelector('.wind');
// const windDirection = document.querySelector('.wind-direction');
const icon = document.querySelector('.icon');

// Using fetch to get data
fetch(url)
.then( response => response.json() )
.then( data => {

  // Check-check: Is data good? 
  console.log( data );
  
  // Get Container for Weather   
  const weatherContainer = document.querySelector('.weather');
    
    // Set DOM Elements
    city.textContent = data.name.toLowerCase(); 
    temp.textContent = data.main.temp;
    humidity.textContent = data.main.humidity;
    // wind.textContent = data.wind.speed;
    // windDirection.textContent = data.wind.deg;

    icon.setAttribute('src', `http://openweathermap.org/img/wn/${data.weather[0].icon}@2x.png`)
  
});
</script>


<!-- Weather -->
<section class="weather card lg:card-side bg-base-100 shadow-xl">
  <div class="card-body">
    <h1>weather:</h1>
    <p>city: <data class="city">City</data></p>
    <p>temp: <data class="temp">Temp</data></p>
    <p>humidity: <data class="humidity">Humidity</data>/100</p>
    <!-- <p>wind: <data class="wind">Wind</data> mph
    <data class="wind-direction">Direction</data> degrees</p> -->
  </div>
  <figure>
      <img class="icon" 
      src="https://via.placeholder.com/150" alt="Placeholder" width="100em">
  </figure>
</section>
